<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/colors.css" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/screen.css" />
    <link rel="stylesheet" href="css/button.css" />
    <link rel="stylesheet" href="css/input.css" />
    <link rel="stylesheet" href="css/heading.css" />
    <link rel="stylesheet" href="css/table.css" />
    <link rel="stylesheet" href="css/navbar.css" />
  </head>
  <body>
    <div class="navbar">
      <div class="heading-1">Take our survey</div>
      <button class="blue-outline-button fill-out" id="back">back</button>
    </div>
    <!-- form screen -->
    <div class="screen">
      <!--start personal details -->
      <div class="container" id="personal-details">
        <div class="heading-2">Personal Details:</div>
        <!-- input item -->
        <div class="input-group">
          <label>Surname</label>
          <input type="text" name="surname" />
          <div class="error surname-error"></div>
        </div>
        <!-- end input item -->

        <!-- input item -->
        <div class="input-group">
          <label>First Names</label>
          <input type="text" name="first-name" />
          <div class="error first-name-error"></div>
        </div>
        <!-- end input item -->

        <!-- input item -->
        <div class="input-group">
          <label>Contact Number</label>
          <input type="text" name="contact-number" />
          <div class="error contact-number-error"></div>
        </div>
        <!-- end input item -->

        <!-- input item -->
        <div class="input-group">
          <label>Date(auto generated)</label>
          <input type="text" name="date" disabled />
          <div class="error date-error"></div>
        </div>
        <!-- end input item -->

        <!-- input item -->
        <div class="input-group">
          <label>Age</label>
          <input type="text" name="age" />
          <div class="error age-error"></div>
        </div>
        <!-- end input item -->
      </div>
      <!-- end personal details-->
      <!-- start  favourate food -->
      <div class="container">
        <div class="heading-2">
          What is your favorite food (You can choose more than 1 answer)
        </div>
        <!-- choice item -->
        <div class="check-radio-button">
          <input type="checkbox" id="Pizza" value="pizza" />
          <label for="Pizza">Pizza</label>
        </div>
        <!-- end choice item -->

        <!-- choice item -->
        <div class="check-radio-button">
          <input type="checkbox" id="Pasta" value="pasta" />
          <label for="Pasta">Pasta</label>
        </div>
        <!--end choice item -->

        <!-- choice item -->
        <div class="check-radio-button">
          <input type="checkbox" id="Pap-And-Wors" value="pap and wors" />
          <label for="Pap-And-Wors">Pap And Wors</label>
        </div>
        <!--end choice item -->

        <!-- choice item -->
        <div class="check-radio-button">
          <input
            type="checkbox"
            id="Chicken-stir-fry"
            value="chicken stir fry"
          />
          <label for="Chicken-stir-fry">Chicken stir fry</label>
        </div>
        <!--end choice item -->

        <!-- choice item -->
        <div class="check-radio-button">
          <input type="checkbox" id="Beef-stir-fry" value="beef stir fry" />
          <label for="Beef-stir-fry">Beef stir fry</label>
        </div>
        <!--end choice item -->

        <!-- choice item -->
        <div class="check-radio-button">
          <input type="checkbox" id="Other" value="other" />
          <label for="Other">Other</label>
        </div>
        <!--end choice item -->

        <!-- input item -->
        <div class="input-group">
          <div class="error favourite-food-error"></div>
        </div>
        <!-- end input item -->
      </div>

      <!-- end favorite food -->

      <!-- table scale -->
      <div class="container">
        <div class="heading-2">
          On a scale of 1 to 5 indicate whether you strongly agree or strongly
          disagree
        </div>
        <table>
          <thead>
            <th></th>
            <th>Strong Agree(1)</th>
            <th>Agree(2)</th>
            <th>Neutral(3)</th>
            <th>Disagree(4)</th>
            <th>Strong Disagree(5)</th>
          </thead>
          <tbody>
            <tr>
              <td>I like to eat out</td>
              <td><input type="radio" name="I like to eat out" value="1" /></td>
              <td><input type="radio" name="I like to eat out" value="2" /></td>
              <td><input type="radio" name="I like to eat out" value="3" /></td>
              <td><input type="radio" name="I like to eat out" value="4" /></td>
              <td><input type="radio" name="I like to eat out" value="5" /></td>
            </tr>

            <tr>
              <td>I like to watch movies</td>
              <td>
                <input type="radio" name="I like to watch movies" value="1" />
              </td>
              <td>
                <input type="radio" name="I like to watch movies" value="2" />
              </td>
              <td>
                <input type="radio" name="I like to watch movies" value="3" />
              </td>
              <td>
                <input type="radio" name="I like to watch movies" value="4" />
              </td>
              <td>
                <input type="radio" name="I like to watch movies" value="5" />
              </td>
            </tr>

            <tr>
              <td>I like to watch TV</td>
              <td>
                <input type="radio" name="I like to watch TV" value="1" />
              </td>
              <td>
                <input type="radio" name="I like to watch TV" value="2" />
              </td>
              <td>
                <input type="radio" name="I like to watch TV" value="3" />
              </td>
              <td>
                <input type="radio" name="I like to watch TV" value="4" />
              </td>
              <td>
                <input type="radio" name="I like to watch TV" value="5" />
              </td>
            </tr>
            <tr>
              <td>I like to listen to the radio</td>
              <td>
                <input
                  type="radio"
                  name="I like to listen to the radio"
                  value="1"
                />
              </td>
              <td>
                <input
                  type="radio"
                  name="I like to listen to the radio"
                  value="2"
                />
              </td>
              <td>
                <input
                  type="radio"
                  name="I like to listen to the radio"
                  value="3"
                />
              </td>
              <td>
                <input
                  type="radio"
                  name="I like to listen to the radio"
                  value="4"
                />
              </td>
              <td>
                <input
                  type="radio"
                  name="I like to listen to the radio"
                  value="5"
                />
              </td>
            </tr>
          </tbody>
        </table>
        <!-- input item -->
        <div class="input-group">
          <div class="error radio-buttons-error"></div>
        </div>
        <!-- end input item -->
      </div>
      <div class="container">
        <div class="input-group">
          <button class="blue-fill-button" id="submit-form">submit</button>
        </div>
      </div>
    </div>
    <!-- end form screen -->

    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>
    

    <script src="cdn/jquery-1.12.3.min.js"></script>
    <script src="js/store.js"></script>
    <script src="js/date.js"></script>
    <script src="js/input.js"></script>
    <script src="js/checkBox.js"></script>
    <script src="js/radioButton.js"></script>
    
    <script src="database/database-config.js"></script>
    <script src="database/submitForm.js"></script>
    <script>
      $("#back").click(() => {
        window.location.replace("index.html");
      });
    </script>

    <script>
      $("#submit-form").click(() => {
        //   reset all errors
        $(
          "#personal-details .error , .favourite-food-error , .radio-buttons-error"
        ).each(function () {
          $(this).html("");
        });
        // end
        var hasAnError = false;
        // check the list length if is 0 then return an error
        if (favourite_food.length == 0) {
          $(".favourite-food-error").html("select at least one item");
          hasAnError = true;
        }
        // end

        // radio_buttons_rows ,loop in each of the item in the dictionary length if is 0 then return an error
        Object.keys(radio_buttons_rows).map((key) => {
          if (radio_buttons_rows[key].trim().length == 0) {
            hasAnError = true;
            $(".radio-buttons-error").html("select all fields");
          }
        });

        // covert the key to an array
        Object.keys(personal_details).map((key) => {
          /// get the value
          var value = personal_details[key];
          //   check the length
          if (value.trim().length == 0) {
            hasAnError = true;
            $("." + key + "-error").html(
              key.replace("-", " ") + " input is required"
            );
          } else if (key == "age") {
            /*age validation*/
            if (parseInt(value) < 5 || parseInt(value) > 120 || isNaN(value)) {
              hasAnError = true;
              $("." + key + "-error").html("invalid age the range is 5 - 120");
            }
          } else if (key == "contact-number") {
            /*contact number validation*/
            if (
              value.trim().length < 9 ||
              isNaN(value) ||
              parseInt(value) < 0
            ) {
              hasAnError = true;
              $("." + key + "-error").html(
                "invalid contact number ,the  minimum length is 10"
              );
            }
          }
        });

        // this stop the function from executing the bottom
        if (hasAnError == true) return false;
        //if no error we call the submit functions
        return SubmitForm();
      });
    </script>
  </body>
</html>
